<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KiteAI Community</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: url('https://i.postimg.cc/qzpBwFQk/background.jpg') no-repeat center center fixed;
        background-size: cover;
        color: #fff;
    }
    header, footer {
        text-align: center;
        padding: 10px;
        background: rgba(0,0,0,0.6);
    }
    button {
        cursor: pointer;
        margin: 5px;
        padding: 5px 10px;
        border: none;
        border-radius: 5px;
        background: #444;
        color: #fff;
    }
    button:hover { background: #555; }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0; top: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.8);
        justify-content: center;
        align-items: center;
    }
    .modal-content {
        background: #111;
        padding: 20px;
        border-radius: 10px;
        width: 90%;
        max-width: 600px;
        position: relative;
    }
    .close-btn {
        position: absolute;
        top: 10px; right: 15px;
        cursor: pointer;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }
    th, td {
        padding: 8px;
        border-bottom: 1px solid #444;
        text-align: left;
    }
    th { background: #222; }
    a { color: #4fc3f7; text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Chat Styles */
    #chatMessages {
        max-height: 250px;
        overflow-y: auto;
        margin-bottom: 10px;
        border: 1px solid #444;
        padding: 10px;
        border-radius: 5px;
        background: #000;
    }
    .chat-msg {
        margin: 5px 0;
        padding: 8px;
        border-radius: 5px;
    }
    .chat-agent { background: #222; text-align: left; }
    .chat-user { background: #333; text-align: right; }
    .question-btn {
        margin: 5px 3px;
        padding: 5px 10px;
        background: #444;
        border: none;
        border-radius: 5px;
        color: #fff;
    }
    .question-btn:hover { background: #555; }
</style>
</head>
<body>

<header>
    <h1>KiteAI Community</h1>
    <button id="leaderboardBtn">Leaderboard</button>
    <button id="announcementBtn">Announcements</button>
    <button id="agentBtn">Community Agent</button>
</header>

<!-- Leaderboard Modal -->
<div id="leaderboardModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeLeaderboard">❌ Close</span>
        <h2>Leaderboard</h2>
        <table id="leaderboardTable">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Name</th>
                    <th>Points</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<!-- Announcements Modal -->
<div id="announcementModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeBtn">❌ Close</span>
        <h2>Announcements</h2>
        <div id="tweetContainer"></div>
        <div style="margin-top:10px; text-align:center;">
            <button id="prevBtn">Previous</button>
            <button id="nextBtn">Next</button>
        </div>
    </div>
</div>

<!-- Agent Chat Modal -->
<div id="agentModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeAgent">❌ Close</span>
        <div id="chatMessages"></div>
        <div id="preQuestions" style="margin-bottom:10px;">
            <button class="question-btn">How can I use KiteAI?</button>
            <button class="question-btn">What are KiteAI NFTs?</button>
            <button class="question-btn">How to join KiteAI community?</button>
            <button class="question-btn">How to report an issue?</button>
            <button class="question-btn">Upcoming events in KiteAI?</button>
        </div>
        <input type="text" id="userInput" placeholder="Type your question here..." style="width:70%; padding:5px;">
        <button id="sendBtn">Send</button>
    </div>
</div>

<footer>
    Made for the KiteAI community · Follow on 
    <a href="https://x.com/Crypto_King877?t=LdPj_6MWuiRd0mUVs8rvtw&s=09" target="_blank">@Crypto_King877</a> 
    & 
    <a href="https://x.com/GoKiteAI?t=fzEmGeci_aCKBgJRAYEwsA&s=09" target="_blank">@GoKiteAI</a>
</footer>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<script>
    // Leaderboard
    const leaderboardBtn = document.getElementById('leaderboardBtn');
    const leaderboardModal = document.getElementById('leaderboardModal');
    const closeLeaderboard = document.getElementById('closeLeaderboard');
    leaderboardBtn.addEventListener('click', () => leaderboardModal.style.display = 'flex');
    closeLeaderboard.addEventListener('click', () => leaderboardModal.style.display = 'none');

    const users = [
        {rank:87, name:"JAEY", link:"https://x.com/Dudeisjaey?t=fsgsx6cb4RrsLbOCQpOzgg&s=09"},
        {rank:88, name:"MR ICE", link:"https://x.com/MR_ICE355?t=mDsLTZ8joR-JiilkPaVPfg&s=09"},
        {rank:89, name:"Geyzee Of Web3", link:"https://x.com/Geyzee_Francis?t=inFmY2cYd5hlcZucabPHXg&s=09"},
        {rank:90, name:"IPadee", link:"https://x.com/ipadeeWeb3?t=RFVHcalYIUQFWWfjXdoRJg&s=09"},
        {rank:91, name:"Fre", link:"https://x.com/Nixit333?t=iv8KD7TKHcBaIjirrmP0sQ&s=09"},
        {rank:92, name:"Memo ETH", link:"https://x.com/mehmetavc199727?t=Z7v_DpxWDegbr8dPrxg72w&s=09"},
        {rank:93, name:"King Sley41", link:"https://x.com/kingsley41w?t=03m35D86oOLJ4eaSSEUi_w&s=09"},
        {rank:94, name:"Simi", link:"https://x.com/dara_see_me?t=tS0bAE3eUBLc_5TFmqFnPg&s=09"},
        {rank:95, name:"0xCway", link:"https://x.com/0xcway?t=3wbJzAzS55NnrFvoZw8hGA&s=09"},
        {rank:96, name:"Erictus", link:"https://x.com/erictus_ai?t=rfS6jPDhTS-ue7SJz9cDUg&s=09"},
        {rank:97, name:"Mehmeet", link:"https://x.com/mehmeet43?t=FZYTrPRRB7rGeAJ8ual4jA&s=09"},
        {rank:98, name:"GoGori", link:"https://x.com/ABUGOGORI?t=O4SA8KUW8XGLKv7jrlK_-Q&s=09"},
        {rank:99, name:"Yos.Eth", link:"https://x.com/0xyos_ril?t=pUN8pf2xDIwlAU8L5s0siA&s=09"},
        {rank:100, name:"SadiCool", link:"https://x.com/sadicoool7?t=1g4XwNmxuRlB6DgIKGKO9A&s=09"}
    ];

    const leaderboardTable = document.getElementById('leaderboardTable').querySelector('tbody');
    users.forEach(user => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${user.rank}</td><td><a href="${user.link}" target="_blank">${user.name}</a></td><td>${user.rank*10}</td>`;
        leaderboardTable.appendChild(tr);
    });

    // Announcements
    const announcementBtn = document.getElementById('announcementBtn');
    const announcementModal = document.getElementById('announcementModal');
    const closeBtn = document.getElementById('closeBtn');
    let currentTweet = 0;
    const tweets = [
        "https://x.com/GoKiteAI/status/1951245795216200146",
        "https://x.com/GoKiteAI/status/1955919782785503588",
        "https://x.com/GoKiteAI/status/1955792638948597868",
        "https://x.com/GoKiteAI/status/1955104976801349904",
        "https://x.com/wallet/status/1954052040939753923"
    ];
    function loadTweet(index){
        document.getElementById("tweetContainer").innerHTML = "";
        twttr.widgets.createTweet(
            tweets[index].split("/status/")[1],
            document.getElementById("tweetContainer"),
            {align:"center"}
        );
    }
    announcementBtn.addEventListener('click', ()=>{
        announcementModal.style.display = 'flex';
        loadTweet(currentTweet);
    });
    closeBtn.addEventListener('click', ()=>announcementModal.style.display='none');
    document.getElementById('prevBtn').addEventListener('click', ()=>{
        currentTweet=(currentTweet-1+tweets.length)%tweets.length;
        loadTweet(currentTweet);
    });
    document.getElementById('nextBtn').addEventListener('click', ()=>{
        currentTweet=(currentTweet+1)%tweets.length;
        loadTweet(currentTweet);
    });

    // Agent Chat
    const agentModal = document.getElementById('agentModal');
    const agentBtn = document.getElementById('agentBtn');
    const chatMessages = document.getElementById('chatMessages');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const closeAgent = document.getElementById('closeAgent');

    const answers = {
        "How can I use KiteAI?":"You can use KiteAI by joining our community and trying out the Testnet features.",
        "What are KiteAI NFTs?":"KiteAI NFTs are unique digital collectibles that represent community membership and rewards.",
        "How to join KiteAI community?":"Join our community through our social channels and participate in discussions and events.",
        "How to report an issue?":"Report issues via our Feedback form or reach out through official channels for quick support.",
        "Upcoming events in KiteAI?":"Check our official social media channels for the latest events and campaigns."
    };

    function addMessage(text,sender){
        const div=document.createElement('div');
        div.classList.add('chat-msg',sender==='agent'?'chat-agent':'chat-user');
        div.textContent=text;
        chatMessages.appendChild(div);
        chatMessages.scrollTop=chatMessages.scrollHeight;
    }

    agentBtn.addEventListener('click',()=>agentModal.style.display='flex');
    closeAgent.addEventListener('click',()=>agentModal.style.display='none');

    document.querySelectorAll('.question-btn').forEach(btn=>{
        btn.addEventListener('click',()=>{
            const q=btn.textContent;
            addMessage(q,'user');
            addMessage(answers[q],'agent');
        });
    });

    sendBtn.addEventListener('click',()=>{
        const q=userInput.value.trim();
        if(q){
            addMessage(q,'user');
            addMessage(answers[q] || "Thank you for your question! Our team will get back to you soon.",'agent');
            userInput.value='';
        }
    });
</script>
</body>
</html>

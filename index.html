<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiteAI Community Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(180deg, #0a0e17, #1a2338);
            font-family: 'Orbitron', sans-serif;
            color: #e0e7ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Futuristic Background Animation */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #3b82f6;
            border-radius: 50%;
            animation: floatParticle 12s linear infinite;
            opacity: 0.4;
        }
        .particle:nth-child(1) { top: 15%; left: 25%; animation-delay: 0s; }
        .particle:nth-child(2) { top: 45%; left: 65%; animation-delay: 3s; }
        .particle:nth-child(3) { top: 65%; left: 35%; animation-delay: 6s; }
        .particle:nth-child(4) { top: 85%; left: 75%; animation-delay: 9s; }
        @keyframes floatParticle {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(40px, -40px) scale(1.4); }
            100% { transform: translate(0, 0) scale(1); }
        }

        /* Navigation */
        .top-nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 14, 23, 0.9);
            backdrop-filter: blur(8px);
            padding: 0.8rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }
        .logo img {
            height: 2rem;
            border-radius: 6px;
            transition: transform 0.3s ease;
        }
        .logo img:hover { transform: scale(1.1); }
        .nav-links {
            display: flex;
            gap: 0.8rem;
        }
        .nav-links a, .dropbtn {
            color: #e0e7ff;
            text-decoration: none;
            font-size: 0.85rem;
            padding: 0.5rem 0.8rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        .nav-links a:hover, .dropbtn:hover {
            background: #3b82f6;
            color: #fff;
            transform: translateY(-2px);
        }
        .dropdown { position: relative; }
        .dropdown-content {
            display: none;
            position: absolute;
            top: 2rem;
            background: rgba(10, 14, 23, 0.95);
            border-radius: 6px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            min-width: 160px;
            padding: 0.4rem 0;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        .dropdown:hover .dropdown-content, .dropdown:focus-within .dropdown-content {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        .dropdown-content a {
            display: block;
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
        }

        /* Sidebar (Mobile) */
        .sidebar-btn {
            display: none;
            font-size: 1.4rem;
            background: none;
            border: none;
            color: #e0e7ff;
            cursor: pointer;
            padding: 0.4rem;
            border-radius: 6px;
        }
        .sidebar-btn:hover { background: rgba(59, 130, 246, 0.2); }
        .sidebar {
            position: fixed;
            top: 0;
            left: -100%;
            width: 75%;
            height: 100%;
            background: rgba(10, 14, 23, 0.95);
            padding: 1.5rem 0.8rem;
            z-index: 999;
            transition: left 0.3s ease;
        }
        .sidebar.show { left: 0; }
        .sidebar a {
            color: #e0e7ff;
            text-decoration: none;
            padding: 0.6rem;
            margin: 0.2rem 0;
            border-radius: 6px;
            display: block;
            transition: all 0.3s ease;
        }
        .sidebar a:hover { background: #3b82f6; transform: translateX(5px); }
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 998;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .sidebar-overlay.show { display: block; opacity: 1; }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal.show { display: flex; opacity: 1; }
        .modal-content {
            background: #1a2338;
            border-radius: 10px;
            padding: 1.2rem;
            width: 90%;
            max-width: 550px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        .modal.show .modal-content { transform: scale(1); }
        .modal-close {
            position: absolute;
            top: 0.8rem;
            right: 0.8rem;
            width: 1.2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .modal-close:hover { transform: scale(1.2); }

        /* Games Modal */
        #gamesModal .modal-content { text-align: center; }
        .game-option {
            display: block;
            padding: 0.6rem;
            margin: 0.4rem auto;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            width: 80%;
            max-width: 200px;
            transition: all 0.3s ease;
        }
        .game-option:hover { transform: scale(1.05); background: linear-gradient(45deg, #60a5fa, #3b82f6); }

        /* Announcement Modal */
        #announcementModal .modal-content { background: #fff; color: #000; }
        .announcement-controls {
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            margin-top: 0.8rem;
        }
        .announcement-controls span {
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .announcement-controls span:hover { color: #3b82f6; transform: scale(1.2); }

        /* Flipping Game */
        #gameContent { max-width: 600px; }
        #gameTitle { font-size: 1.4rem; text-align: center; margin-bottom: 0.8rem; }
        #puzzleGrid { display: grid; gap: 0.4rem; margin-bottom: 0.8rem; }
        .card {
            position: relative;
            width: 100%;
            padding-top: 100%;
            cursor: pointer;
            perspective: 1000px;
        }
        .card-inner {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease;
            transform-style: preserve-3d;
        }
        .card.flipped .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        .card-front { transform: rotateY(180deg); }
        .card-back { background: #334155; }
        .card img { width: 100%; height: 100%; object-fit: cover; border-radius: 6px; }
        .game-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }
        #gameScore { font-size: 0.9rem; padding: 0.4rem 0.8rem; background: rgba(10, 14, 23, 0.8); border-radius: 6px; }
        #restartGameBtn, #nextLevelBtn {
            padding: 0.4rem 0.8rem;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #restartGameBtn:hover, #nextLevelBtn:hover { transform: scale(1.05); }
        #winMessage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: rgba(10, 14, 23, 0.9);
            padding: 0.8rem 1.6rem;
            border-radius: 6px;
            font-size: 1.3rem;
            opacity: 0;
            transition: all 0.5s ease;
        }
        #winMessage.show { opacity: 1; transform: translate(-50%, -50%) scale(1); }

        /* Shooting Game */
        #shootingGameContent { max-width: 700px; }
        #shootingGameTitle { font-size: 1.4rem; text-align: center; margin-bottom: 0.8rem; }
        #shootingGameCanvas {
            width: 100%;
            max-width: 700px;
            height: 450px;
            background: linear-gradient(180deg, #1a2338, #334155);
            border-radius: 6px;
            border: 2px solid #3b82f6;
            position: relative;
            cursor: crosshair;
        }
        .game-controls-shooting { display: flex; justify-content: space-between; margin-bottom: 0.8rem; }
        #shootingGameScore { font-size: 0.9rem; padding: 0.4rem 0.8rem; background: rgba(10, 14, 23, 0.8); border-radius: 6px; }
        #scopeToggleBtn, #restartShootingGameBtn {
            padding: 0.4rem 0.8rem;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #scopeToggleBtn:hover, #restartShootingGameBtn:hover { transform: scale(1.05); }
        #gameOverMessage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: rgba(10, 14, 23, 0.9);
            padding: 0.8rem 1.6rem;
            border-radius: 6px;
            font-size: 1.3rem;
            opacity: 0;
            transition: all 0.5s ease;
        }
        #gameOverMessage.show { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        .hit-effect {
            position: absolute;
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, rgba(255, 0, 0, 0.8), transparent);
            border-radius: 50%;
            animation: hitFade 0.5s ease-out forwards;
        }
        @keyframes hitFade {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        /* Feedback Form */
        .feedback-form {
            background: #1a2338;
            padding: 1.2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 450px;
            margin: 1rem;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            transition: transform 0.3s ease;
        }
        .feedback-form:hover { transform: scale(1.02); }
        .feedback-form h2 { font-size: 1.4rem; margin-bottom: 0.8rem; }
        select, textarea, input {
            width: 100%;
            padding: 0.6rem;
            margin: 0.4rem 0;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: #334155;
            color: #e0e7ff;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
        }
        select:focus, textarea:focus, input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 6px rgba(59, 130, 246, 0.3);
            outline: none;
        }
        .form-buttons { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 0.4rem; margin-top: 0.8rem; }
        .form-buttons button {
            padding: 0.6rem;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .form-buttons button:hover { transform: scale(1.05); }
        .form-buttons button:disabled { background: #4b5563; cursor: not-allowed; transform: none; }

        /* Agent Chat */
        #agentContent { display: flex; flex-direction: column; gap: 0.8rem; }
        #chatMessages {
            flex-grow: 1;
            background: #334155;
            border-radius: 6px;
            padding: 0.8rem;
            overflow-y: auto;
            max-height: 45vh;
        }
        .chat-msg {
            margin: 0.4rem;
            padding: 0.6rem;
            border-radius: 6px;
            max-width: 80%;
        }
        .chat-agent { background: #3b82f6; color: #fff; align-self: flex-start; }
        .chat-user { background: #475569; color: #fff; align-self: flex-end; }
        #preQuestions { display: flex; flex-wrap: wrap; gap: 0.4rem; margin-bottom: 0.8rem; }
        .question-btn {
            padding: 0.4rem 0.8rem;
            background: #3b82f6;
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .question-btn:hover { background: #60a5fa; transform: scale(1.05); }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 0.8rem;
            left: 50%;
            transform: translateX(-50%) scale(0.95);
            background: #3b82f6;
            color: #fff;
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            opacity: 0;
            transition: all 0.3s ease;
        }
        .toast.show { opacity: 1; transform: translateX(-50%) scale(1); }

        /* Footer */
        footer {
            position: fixed;
            bottom: 0.4rem;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 0.4rem;
            font-size: 0.75rem;
            color: #e0e7ff;
            background: rgba(10, 14, 23, 0.9);
            padding: 0.4rem;
            border-radius: 6px;
            z-index: 10;
        }
        footer img {
            height: 1rem;
            border-radius: 4px;
        }
        footer a { color: #3b82f6; text-decoration: none; }
        footer a:hover { color: #60a5fa; }

        /* Visually Hidden */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* Mobile Styles */
        @media (max-width: 767px) {
            .nav-links { display: none; }
            .sidebar-btn { display: block; }
            .feedback-form { padding: 0.8rem; max-width: 95%; }
            .form-buttons { grid-template-columns: 1fr; }
            #puzzleGrid { gap: 0.2rem; }
            #gameTitle, #shootingGameTitle { font-size: 1.1rem; }
            #gameScore, #shootingGameScore { font-size: 0.8rem; }
            #shootingGameCanvas { height: 280px; }
            .game-option { width: 85%; }
            .modal-content { padding: 0.8rem; }
        }
        @media (min-width: 768px) {
            .sidebar-btn, .sidebar, .sidebar-overlay { display: none; }
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Audio -->
    <audio id="clickSound" src="https://cdn.pixabay.com/audio/2022/03/10/audio_5b3d3b4213.mp3" preload="auto"></audio>
    <audio id="shootSound" src="https://cdn.pixabay.com/audio/2023/02/13/audio_1d7a4e7a53.mp3" preload="auto"></audio>

    <!-- Navigation -->
    <nav class="top-nav">
        <div class="logo">
            <img src="https://i.postimg.cc/mzMZpf0r/logo.jpg" alt="KiteAI Logo">
        </div>
        <div class="nav-links">
            <a href="https://testnet.gokite.ai?referralCode=XDO80HYV" target="_blank" aria-label="KiteAI Testnet">Testnet</a>
            <a href="https://opensea.io/collection/fly-the-kite-official" target="_blank" aria-label="KiteAI NFTs">NFTs</a>
            <div class="dropdown">
                <button class="dropbtn" aria-label="Community Menu" tabindex="0">Community</button>
                <div class="dropdown-content">
                    <a href="https://x.com/ChiZhangData" target="_blank">Co-founder</a>
                    <a href="https://x.com/Kite_Frens_Eco" target="_blank">Community & Ecosystem</a>
                    <a href="https://x.com/KiteAIChinese" target="_blank">KiteAI Chinese</a>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn" aria-label="Team Menu" tabindex="0">Team</button>
                <div class="dropdown-content">
                    <a href="https://x.com/buidloor" target="_blank">Vikthebuilder</a>
                    <a href="https://x.com/lei_lei0904" target="_blank">Lei-Lei</a>
                    <a href="https://x.com/scottshics" target="_blank">Scott Shi</a>
                    <a href="https://x.com/Henryleemr" target="_blank">Henry Lee</a>
                    <a href="https://x.com/superamscom" target="_blank">Spring</a>
                    <a href="https://x.com/0xLaughing" target="_blank">Laughing</a>
                </div>
            </div>
            <div class="dropdown">
                <button id="navGamesLink" class="dropbtn" aria-label="Games Menu" tabindex="0">Games</button>
                <div class="dropdown-content">
                    <a href="#" id="flippingGameLink" aria-label="KiteAI Flipping Game">KiteAI Flipping</a>
                    <a href="#" id="shootingGameLink" aria-label="KiteAI Shooting Game">KiteAI Shooting</a>
                </div>
            </div>
        </div>
        <button class="sidebar-btn" aria-label="Toggle Menu" tabindex="0">â˜°</button>
    </nav>

    <!-- Sidebar (Mobile) -->
    <div class="sidebar" id="sidebarMenu">
        <a href="https://testnet.gokite.ai?referralCode=XDO80HYV" target="_blank">KiteAI Testnet</a>
        <a href="https://opensea.io/collection/fly-the-kite-official" target="_blank">NFTs</a>
        <a href="https://x.com/ChiZhangData" target="_blank">Co-founder</a>
        <a href="https://x.com/Kite_Frens_Eco" target="_blank">Community & Ecosystem</a>
        <a href="https://x.com/KiteAIChinese" target="_blank">KiteAI Chinese</a>
        <a href="https://x.com/buidloor" target="_blank">Vikthebuilder</a>
        <a href="https://x.com/lei_lei0904" target="_blank">Lei-Lei</a>
        <a href="https://x.com/scottshics" target="_blank">Scott Shi</a>
        <a href="https://x.com/Henryleemr" target="_blank">Henry Lee</a>
        <a href="https://x.com/superamscom" target="_blank">Spring</a>
        <a href="https://x.com/0xLaughing" target="_blank">Laughing</a>
    </div>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Games Modal -->
    <div id="gamesModal" class="modal" role="dialog" aria-labelledby="gamesTitle">
        <div class="modal-content">
            <img class="modal-close" id="closeGamesBtn" src="https://i.postimg.cc/6TkVmjdM/close-icon.png" alt="Close Games" aria-label="Close Games" role="button" tabindex="0">
            <h2 id="gamesTitle">KiteAI Games</h2>
            <a href="#" class="game-option" id="flippingGameOption" aria-label="KiteAI Flipping Game">KiteAI Flipping</a>
            <a href="#" class="game-option" id="shootingGameOption" aria-label="KiteAI Shooting Game">KiteAI Shooting</a>
        </div>
    </div>

    <!-- Announcement Modal -->
    <div id="announcementModal" class="modal" role="dialog" aria-labelledby="announcementTitle">
        <div class="modal-content">
            <img class="modal-close" id="closeAnnouncementBtn" src="https://i.postimg.cc/6TkVmjdM/close-icon.png" alt="Close Announcements" aria-label="Close Announcements" role="button" tabindex="0">
            <h2 id="announcementTitle" class="visually-hidden">Announcements</h2>
            <div id="tweetContainer" style="text-align: center;"></div>
            <div class="announcement-controls">
                <span id="prevBtn" aria-label="Previous Tweet" role="button" tabindex="0">â‡š</span>
                <span id="nextBtn" aria-label="Next Tweet" role="button" tabindex="0">â‡›</span>
            </div>
        </div>
    </div>

    <!-- Flipping Game Modal -->
    <div id="gameModal" class="modal" role="dialog" aria-labelledby="gameTitle">
        <div id="gameContent" class="modal-content">
            <img class="modal-close" id="closeGameBtn" src="https://i.postimg.cc/6TkVmjdM/close-icon.png" alt="Close Game" aria-label="Close Game" role="button" tabindex="0">
            <div id="gameTitle">KiteAI Flipping Game</div>
            <div class="game-controls">
                <div id="gameScore" aria-live="polite">Level: 1 | Best Level: 1 | Moves: 0</div>
                <button id="restartGameBtn" aria-label="Restart Game">Restart</button>
                <button id="nextLevelBtn" style="display: none;" aria-label="Next Level">Next Level</button>
            </div>
            <div id="puzzleGrid"></div>
            <div id="winMessage" aria-live="assertive">Level Completed!</div>
        </div>
    </div>

    <!-- Shooting Game Modal -->
    <div id="shootingGameModal" class="modal" role="dialog" aria-labelledby="shootingGameTitle">
        <div id="shootingGameContent" class="modal-content">
            <img class="modal-close" id="closeShootingGameBtn" src="https://i.postimg.cc/6TkVmjdM/close-icon.png" alt="Close Shooting Game" aria-label="Close Shooting Game" role="button" tabindex="0">
            <div id="shootingGameTitle">KiteAI Shooting Game</div>
            <div class="game-controls-shooting">
                <div id="shootingGameScore" aria-live="polite">Level: 1 | Score: 0 | Lives: 3</div>
                <button id="scopeToggleBtn" aria-label="Toggle Scope">Toggle Scope</button>
                <button id="restartShootingGameBtn" aria-label="Restart Shooting Game">Restart</button>
            </div>
            <canvas id="shootingGameCanvas"></canvas>
            <div id="gameOverMessage" aria-live="assertive">Game Over!</div>
        </div>
    </div>

    <!-- Feedback Form -->
    <form id="feedbackForm" class="feedback-form" action="https://formspree.io/f/xzzvwrap" method="POST">
        <h2>Community Feedback</h2>
        <select name="category" required aria-label="Select Feedback Category">
            <option value="">Select Category</option>
            <option value="Community Feedback">Community Feedback</option>
            <option value="Error Report">Error / Issue</option>
            <option value="Event or Campaign">Event / Campaign</option>
        </select>
        <textarea name="message" rows="4" placeholder="Your feedback..." required aria-label="Feedback Message"></textarea>
        <input type="email" name="email" placeholder="Your Email" required aria-label="Your Email">
        <button type="submit" id="submitBtn" aria-label="Submit Feedback">Send Feedback</button>
        <div class="form-buttons">
            <button type="button" id="announcementBtn" aria-label="Open Announcements">ðŸ“¢ Announcements</button>
            <button type="button" id="agentBtn" aria-label="Open Community Agent">ðŸ¤– Community Agent</button>
            <button type="button" id="gamesBtn" aria-label="Open Games">ðŸŽ® Games</button>
        </div>
    </form>

    <!-- Agent Chat Modal -->
    <div id="agentModal" class="modal" role="dialog" aria-labelledby="agentTitle">
        <div id="agentContent" class="modal-content">
            <img class="modal-close" id="closeAgentBtn" src="https://i.postimg.cc/6TkVmjdM/close-icon.png" alt="Close Chat" aria-label="Close Chat" role="button" tabindex="0">
            <h2 id="agentTitle" class="visually-hidden">Community Agent</h2>
            <div id="chatMessages" aria-live="polite"></div>
            <div id="preQuestions">
                <button class="question-btn" aria-label="How to use KiteAI">How can I use KiteAI?</button>
                <button class="question-btn" aria-label="What are KiteAI NFTs">What are KiteAI NFTs?</button>
                <button class="question-btn" aria-label="Join KiteAI community">How to join KiteAI community?</button>
                <button class="question-btn" aria-label="Report an issue">How to report an issue?</button>
                <button class="question-btn" aria-label="Upcoming events">Upcoming events in KiteAI?</button>
            </div>
            <input type="text" id="userInput" placeholder="Ask a question..." aria-label="Type your question">
            <button id="sendBtn" aria-label="Send Message">Send</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast" role="alert" aria-live="assertive"></div>

    <!-- Footer -->
    <footer>
        <img src="https://i.postimg.cc/mzMZpf0r/logo.jpg" alt="KiteAI Logo">
        <span>Made for KiteAI Â· Follow
            <a href="https://x.com/Crypto_King877" target="_blank" aria-label="Follow Crypto_King877">@Crypto_King877</a> &
            <a href="https://x.com/GoKiteAI" target="_blank" aria-label="Follow GoKiteAI">@GoKiteAI</a>
        </span>
    </footer>

    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <script>
        // Audio
        const clickSound = document.getElementById('clickSound');
        const shootSound = document.getElementById('shootSound');
        const playSound = (sound) => {
            sound.currentTime = 0;
            sound.play().catch(() => {});
        };
        document.querySelectorAll('button, a, .card, .modal-close, .announcement-controls span').forEach(el => {
            el.addEventListener('click', () => playSound(clickSound));
            el.addEventListener('keypress', e => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    playSound(clickSound);
                    el.click();
                }
            });
        });

        // Sidebar
        const sidebarMenu = document.getElementById('sidebarMenu');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        document.querySelector('.sidebar-btn').addEventListener('click', () => {
            sidebarMenu.classList.toggle('show');
            sidebarOverlay.classList.toggle('show');
        });
        sidebarOverlay.addEventListener('click', () => {
            sidebarMenu.classList.remove('show');
            sidebarOverlay.classList.remove('show');
        });

        // Toast
        const showToast = (msg, duration = 3000) => {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), duration);
        };

        // Modal Handling
        const openModal = (modal) => {
            modal.classList.add('show');
            const focusable = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];
            if (focusable) focusable.focus();
        };
        const closeModal = (modal) => {
            modal.classList.remove('show');
            document.querySelector('.feedback-form').focus();
        };
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('keydown', e => {
                if (e.key === 'Tab' && modal.classList.contains('show')) {
                    const focusable = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                    const first = focusable[0];
                    const last = focusable[focusable.length - 1];
                    if (e.shiftKey && document.activeElement === first) {
                        e.preventDefault();
                        last.focus();
                    } else if (!e.shiftKey && document.activeElement === last) {
                        e.preventDefault();
                        first.focus();
                    }
                } else if (e.key === 'Escape') {
                    closeModal(modal);
                }
            });
        });

        // Games Modal
        const gamesModal = document.getElementById('gamesModal');
        document.getElementById('gamesBtn').addEventListener('click', () => openModal(gamesModal));
        document.getElementById('navGamesLink').addEventListener('click', e => {
            e.preventDefault();
            openModal(gamesModal);
        });
        document.getElementById('closeGamesBtn').addEventListener('click', () => closeModal(gamesModal));

        // Announcement Modal
        const tweets = [
            "https://x.com/GoKiteAI/status/1951245795216200146",
            "https://x.com/GoKiteAI/status/1955919782785503588",
            "https://x.com/GoKiteAI/status/1955792638948597868",
            "https://x.com/GoKiteAI/status/1955104976801349904",
            "https://x.com/wallet/status/1954052040939753923",
            "https://x.com/GoKiteAI/status/1956244265958564185"
        ];
        let currentTweet = 0;
        const loadTweet = index => {
            const container = document.getElementById('tweetContainer');
            container.innerHTML = '<p>Loading tweet...</p>';
            try {
                twttr.widgets.createTweet(tweets[index].split('/status/')[1].split('?')[0], container, { align: 'center' })
                    .then(() => container.querySelectorAll('a').forEach(link => link.addEventListener('click', () => playSound(clickSound))))
                    .catch(() => container.innerHTML = '<p>Unable to load tweet. Please try again later.</p>');
            } catch (e) {
                container.innerHTML = '<p>Unable to load tweet. Please try again later.</p>';
            }
        };
        document.getElementById('announcementBtn').addEventListener('click', () => {
            openModal(document.getElementById('announcementModal'));
            loadTweet(currentTweet);
        });
        document.getElementById('closeAnnouncementBtn').addEventListener('click', () => closeModal(document.getElementById('announcementModal')));
        document.getElementById('prevBtn').addEventListener('click', () => {
           click', () => {
            currentTweet = ( currentTweet = (currentTweet - 1 +currentTweet - 1 + tweets.length) % tweets.length tweets.length) % tweets.length;
            load;
            loadTweet(currentTweet(currentTweet);
        });
        documentTweet);
        });
        document.getElementById('.getElementById('nextBtn').addEventListenernextBtn').addEventListener('click', () => {
('click', () => {
            currentTweet =            currentTweet = (currentTweet + (currentTweet + 1) % tweets.length 1) % tweets.length;
            load;
            loadTweet(currentTweet);
        });

Tweet(currentTweet);
        });

        // Agent        // Agent Chat
        const Chat
        const agentModal = document.getElement agentModal = document.getElementById('agentById('agentModal');
        const chatModal');
        const chatMessages = document.getElementByMessages = document.getElementById('chatId('chatMessages');
        const userMessages');
        const userInput = document.getElementByInput = document.getElementById('userInput');
       Id('userInput');
        const answers = {
            ' const answers = {
            'how can i use kitehow can i use kiteai?': 'Joinai?': 'Join the KiteAI Test the KiteAI Testnet at testnet.gnet at testnet.gokite.ai!',
            'okite.ai!',
            'what are kiteaiwhat are kiteai nfts?': ' nfts?': 'KiteAI NFTs are collectibles on OpenSea withKiteAI NFTs are collect communityibles on OpenSea with perks.',
            'how to join kite community perks.',
            'how to join kiteai community?':ai community?': 'Follow @GoKite 'Follow @GoKiteAI and @KAI and @Kite_Frens_Eco on Xite_Frens_Eco on X!',
            'how!',
            'how to report an issue?': to report an issue?': 'Use the feedback form or 'Use DM @ the feedback form orGoKiteAI on X DM @GoKiteAI on X.',
            'up.',
            'upcoming events incoming events in kiteai?': ' kiteai?': 'Check @Check @GoKiteAI on XGoKiteAI on X for events and for events and campaigns!'
        };
        const campaigns!'
        };
        const addMessage = ( addMessage = (text, sendertext, sender) => {
            const div) => {
            const div = document.createElement('div =');
            div.classList.add document.createElement('div');
            div.classList.add('chat-msg', `('chat-msg', `chat-${sender}`);
            divchat-${sender}`);
            div.textContent = text;
.text            chatMessagesContent = text;
.appendChild(div            chatMessages.appendChild(div);
            chatMessages.scroll);
           Top = chat chatMessages.scrollTop = chatMessages.scrollHeight;
        };
Messages.scrollHeight;
        };
        document.getElementById        document.getElementById('agent('agentBtn').addEventListener('Btn').addEventListener('click', () => {
           click', () => {
            openModal(agent openModal(agentModal);
            userInput.focusModal);
            user();
        });
        document.getInput.focusElement();ById('
closeAgent        });
        document.getElementById('closeAgentBtn').addEventListener('Btn').addEventListener('click', ()click', () => closeModal(agentModal => closeModal(agent));
        document.queryModal));
        document.querySelectorAll('.questionSelectorAll('.question-btn').forEach(btn => {
            btn.addEventListener-btn').forEach(btn => {
            btn.addEventListener('click', () => {
('click', () => {
                const q = btn.text                const q = btn.textContent;
                addContent;
                addMessage(q, 'userMessage(q, 'user');
                add');
                addMessage(Message(answers[q.toanswers[q.toLowerCase()] || 'LowerCase()] || 'Thanks for your question!', 'Thanks for your question!', 'agent');
            });
        });
agent');
            });
        });
        document.getElementBy        document.getElementById('sendId('sendBtn').addEventListener('Btn').addEventListener('click', () => {
           click', () => {
            const q = userInput.value const q = userInput.value.trim();
            if (q.trim();
            if (q) {
                add) {
                addMessage(q, 'userMessage(q, 'user');
                add');
                addMessage(answersMessage(answers[q.toLowerCase()] || 'Thanks for your question!', 'agent');
                userInput.value = '';
            } else {
                showToast('Please enter a question!',[q.toLowerCase()] || 'Thanks for your question!', 'agent');
                userInput.value = '';
            } else {
                showToast('Please enter a question!', 3000);
            }
        3000);
            }
        });
        user });
        userInput.addEventListener('keypressInput.addEventListener('keypress', e => {
            if (e', e => {
            if (e.key === 'Enter') document.key === 'Enter') document.getElementById('send.getElementById('sendBtn').clickBtn').click();
        });

       ();
        });

        // Flipping Game
        // Flipping Game
        const gameModal = document.get const gameModal = document.getElementById('gameElementById('gameModal');
        const puzzleGrid = document.getElementByModal');
        const puzzleGrid = document.getElementById('pId('puzzleGrid');
        const gameuzzleGrid');
        const gameScore = document.getElementByScore = document.getElementById('gameScoreId('gameScore');
        const win');Message =
 document       .get const winElementByMessage = document.getElementById('winMessage');
Id('winMessage');
        const baseImages = [
            'https        const baseImages = [
            'https://i.postimg.cc/F://i.postimg.cc/FfpWLfpWLBgg/image1Bgg/image1.png',
            'https://.png',
            'https://i.postimg.cc/68i.postimg.cc/68NY1XMfNY1XMf/image2/image2.png',
            'https://.png',
            'https://i.postimg.cc/PNpyXxci.postimg.cc/PNpyXxcM/image3M/image3.png',
            'https://.png',
            'https://i.postimg.cc/mi.postimg.cc/mzMZzMZpf0rpf0r/logo.jpg',
            'https://i.postimg/logo.jpg',
            'https://i.postimg.cc/zy.cc/zyBhrQMgBhr/targetQMg/target.png'
        ];
        const.png'
        ];
        const backside backsideImage = 'https://iImage = 'https.postimg.cc/6Tk://i.postimg.cc/6TkVmjdM/closeVmjd-icon.png';
        let level = 1;
        letM/close-icon.png';
        let level bestLevel = local = 1;
        let bestLevel = localStorage.getItem('pStorage.getItem('puzzleGameBestLevel') || 1;
uzzleGameBest        let movesLevel') || 1;
        let moves = 0;
        let = 0;
        let flipped flippedCards = [];
        let matchedCards = [];
        let matchedSets = 0;
        let isSets = 0;
        let isProcessing = false;
        constProcessing = false;
        const maxLevels = 20;

 maxLevels = 20;

        const getCardCount =        const getCardCount = level level => {
            if (level => {
            if (level <= 5) return <= 5) return 2;
            if ( 2;
            if (level <= 10) returnlevel <= 10) return 3;
            if ( 3;
            if (level <= 15) returnlevel <= 15) return 4;
            return 4;
            return 5;
        };

 5;
        };

        const shuffle = array        const shuffle = array => {
            for (let => {
            for (let i = array.length - i = array.length - 1; i > 1; i > 0; i--) {
                0; i--) {
                const j = Math.floor const j = Math.floor(Math.random() *(Math.random() * (i + 1));
 (i + 1));
                [array                [array[i], array[j]] =[i], array[j]] = [array[j], array[i [array[j], array[i]];
            }
            return array]];
            }
            return array;
        };

        const create;
        };

        const createCard = imageCard = imageSrc => {
            const cardSrc => {
            const card = document.createElement('div = document.createElement('div');
            card.classList.add');
('card');
            const inner            card.classList.add('card');
            const inner = document.createElement('div = document.createElement('div');
            inner.classList.add');
            inner.classList.add('card-inner('card-inner');
            const front');
            const front = document.createElement('div = document.createElement('div');
            front.class');
            front.classList.add('cardList.add('card-front');
            const front-front');
            const frontImg = document.createElement('Img = document.createElement('img');
            frontImg.src = imageimg');
            frontImgSrc;
           .src frontImg = imageSrc;
            frontImg.alt =.alt = 'Card Image';
 'Card Image';
            frontImg.onerror = () => front            frontImg.onerrorImg.src = 'https:// = () => frontvia.placeholder.com/100Img.src = 'https://?text=Cardvia.placeholder.com/100?text=Card';
            front.append';
            front.appendChild(frontImg);
           Child(frontImg);
            const back = document.createElement const back =('div');
            back.class document.createElementList.add('card('div');
            back.classList.add('card-back');
            const back-back');
            const backImg = document.createElement('Img = document.createElement('img');
            backImgimg');
            backImg.src = backsideImage;
            backImg.src = backsideImage;
            backImg.alt =.alt = 'Card Back';
 'Card Back';
            backImg.onerror            backImg.onerror = () => back = () => backImg.src = 'https://Img.src = 'https://via.placeholder.com/100via.placeholder.com/100?text=Back';
            back.appendChild(back?text=Back';
            back.appendChild(backImg);
            innerImg);
            inner.appendChild(front.appendChild(front);
            inner.appendChild(back);
            card);
            inner.appendChild(back);
            card.appendChild(inner);
.appendChild(inner);
            card.addEventListener('            card.addEventListener('click', handleclick', handleCardClick);
            card.addCardClick);
            card.addEventListener('keypress', eEventListener('keypress', e => {
                if (e => {
                if (e.key === 'Enter' ||.key === 'Enter' || e.key === ' ') handle e.key === ' ') handleCardClick(e);
            });
CardClick(e);
            });
            card.tab            card.tabIndex = 0;
           Index = 0;
            return card;
        };

        return card;
        };

        const initPuzzle const initPuzzle = () => {
            puzzle = () => {
            puzzleGrid.innerHTML = '';
            winMessage.classListGrid.innerHTML = '';
            winMessage.classList.remove('show.remove('show');
            puzzle');
            puzzleGrid.classList.remove('won');
            const cardCount =Grid.classList.remove('won');
            const cardCount = getCardCount(level);
 getCardCount(level);
            const selected            const selectedImages = baseImages.slice(Images = baseImages.slice(0, cardCount);
           0, cardCount);
            const frontImages = [].concat const frontImages = [].concat(...(...selectedImages.map(img => ArrayselectedImages.map(img => Array(3).fill(img(3).fill(img)));
            const shuffled)));
            const shuffledImages = shuffle(Images = shuffle(frontImages);
            puzzlefrontImages);
            puzzleGrid.style.gridTemplateColumns =Grid.style.gridTemplateColumns = `repeat `repeat(${Math(${Math.ceil(Math.sqrt.ceil(Math.sqrt(shuffled(shuffledImages.length))},Images.length))}, 1fr) 1fr)`;
            shuffledImages`;
            shuffledImages.forEach(src.forEach(src => puzzleGrid.appendChild(createCard => puzzleGrid.appendChild(createCard(src)));
            flipped(src)));
            flippedCards = [];
            matchedCards = [];
            matchedSets =Sets = 0;
            moves 0;
            moves = 0;
            isProcessing = false;
            game = 0;
            isProcessing = false;
            gameScore.textContent = `Score.textContent = `Level: ${level} |Level: ${level} | Best Level: ${best Best Level: ${bestLevel} | MovesLevel} | Moves: ${moves}`;
: ${moves}`;
            document.getElementById            document.getElementById('nextLevelBtn').style('nextLevelBtn').style.display = 'none';
       .display = 'none';
        };

        const };

        const handleCardClick = e handleCardClick = e => {
            e.preventDefault();
            if (is => {
            e.preventDefault();
            if (isProcessing || puzzleProcessing || puzzleGrid.classList.contains('won')) return;
            const cardGrid.classList.contains('won')) return;
            const card = e.target.closest = e.target.closest('.card');
            if (!('.card');
            if (!card || card.classList.containscard || card.classList.contains('fl('flipped') || flippedipped') || flippedCards.length >=Cards.length >= 3) return;
            3) return;
            card.classList.add('fl card.classList.add('flipped');
            flippedCards.push(card);
            movesipped');
            flippedCards.push(card);
            moves++;
            game++;
            gameScore.textContent = `Score.textContent = `Level: ${level}Level: ${level} | Best Level: ${best | Best Level: ${bestLevel} | MovesLevel} | Moves: ${moves: ${moves}`;
            playSound(click}`;
            playSound(clickSound);
            if (flSound);
            if (flippedCards.length === 3ippedCards.length === 3) {
                is) {
                isProcessing = true;
                checkProcessingMatch = true;
                check();
            }
        };

Match();       
            const }
 checkMatch = ()        };

 => {
            const fronts        const checkMatch = () => {
            const fronts = flipped = flippedCards.map(cardCards.map(card => card.query => card.querySelector('.card-front img').src);
            ifSelector('.card-front img').src (fronts[);
            if0] === fronts (fronts[0[]1] === fronts && fronts[1] && fronts[1] === fronts[2]) {
                matched[1] === frontsSets++;
                flipped[2]) {
                matchedCards = [];
                isSets++;
                flippedProcessing = false;
                ifCards = [];
                isProcessing = false (matchedSets;
                if === (matched getCardCountSets ===(level getCardCount(level)) {
                    puzzle)) {
                    puzzleGrid.classList.add('won');
                   Grid.classList.add('won winMessage.textContent = level');
                    winMessage.textContent = level === maxLevels ? 'All === Levels Completed maxLevels!' : ` ? 'All Levels Completed!' : `Level ${level} CompletedLevel ${level!} Completed`;
                    win!`;
                    winMessage.classList.addMessage.classList.add('show');
                    show('show');
                    showToast(level ===Toast(level === maxLevels ? 'Congratulations maxLevels ? 'Congratulations! All Levels Done! All Levels Done!' : `!' : `Level ${level} Completed!Level ${level} Completed!`, 400`, 4000);
                    if (level0);
                    if (level > bestLevel) {
                        > bestLevel) {
                        bestLevel = level;
                        localStorage.setItem('p bestLevel = level;
                       uzzleGame localStorage.setItem('puzzleGameBestLevel', bestLevel);BestLevel', best
                    }
                    documentLevel);.getElementById('next
                    }
                    document.getLevelElementBtnBy').styleId.display('nextLevelBtn').style.display = level = level < maxLevels ? 'block' : 'none';
                < maxLevels ? 'block }
            } else {
               ' : 'none';
                }
            } else {
                setTimeout(() => {
                    setTimeout(() => {
                    flippedCards.forEach(card flippedCards.forEach(card => card.classList.remove => card.classList.remove('fl('flipped'));
                    flippedipped'));
                    flippedCards = [];
Cards = [];
                    is                    isProcessing = false;
Processing = false;
                },                }, 1000 - (level - 1) * 1000 - (level - 1) * 40);
            }
        };

 40);
            }
        };

        document.getElementById        document.getElementById('fl('flippingGameOptionipping').addGameOptionEventListener('click').addEventListener('click', e', e => {
            e.preventDefault => {
            e.preventDefault();
            close();
            closeModal(gModal(gamesModal);
amesModal);
            openModal(game            openModal(gameModal);
            levelModal);
            level = 1;
            init = 1;
            initPuzzle();
        });
        documentPuzzle();
        });
        document.getElementById('closeGameBtn')..getElementById('closeGameBtn').addEventListener('click', () => closeModaladdEventListener('click', () => closeModal(game(gameModal));
        document.getElementById('restartModal));
        document.getElementById('restartGameBtn').addEventListenerGameBtn').addEventListener('click', () => {
('click', () => {
            level = 1;
                       level = 1 initPuzzle;
();
        });
            initPuzzle();
        });
        document.getElementById('next       Level documentBtn').add.getElementByIdEventListener('click', ()('nextLevelBtn').addEventListener('click', () => {
            level = level => {
            level = level < maxLevels ? level + 1 : 1 < maxLevels ? level + 1 : 1;
            init;
            initPuzzle();
        });

        //Puzzle();
        });

        // Shooting Game
        const shooting Shooting Game
        const shootingGameModalGameModal = document.getElementById = document.getElementById('sh('shootingGameModal');
       ootingGameModal');
        const shootingGameCanvas const shootingGameCanvas = document.getElementById = document.getElementById('sh('shootingGameCanvas');
        constootingGameCanvas');
        const shootingGameScore shootingGameScore = document.getElementById = document.getElementById('sh('shootingGameScoreootingGameScore');
        const game');
        const gameOverMessage = document.getElementOverMessage = document.getElementById('gameById('gameOverMessage');
        const ctxOverMessage');
        const ctx = shootingGameCanvas.get = shootingGameCanvas.getContext('2d');
       Context('2d');
        let level = let level = 1;
        let score = 0;
        let lives 1;
        let score = 0;
        let lives = 3 = 3;
        let best;
        let bestScore = localStorage.getItem('shScore = localStorage.getItem('shootingGameBestScore') || 0;
ootingGameBest        let targetsScore') || 0;
        let targets = [];
        let isScope = [];
        let isScopeActive = false;
        letActive = false;
        let isGameOver = false;
 isGameOver = false;
        let gameLoop = null        let gameLoop = null;
        let mouse;
        let mouseX = null;
        let mouseY = nullX = null;
        let mouseY = null;
        const gunImage;
        const gunImage = new Image();
        gun = new Image();
        gunImage.src = 'https://i.postimg.cc/LImage.src = 'https://i.postimg.cc/LnrJcnrJcszr/gszr/gun.png';
        gunun.png';
        gunImage.onerror = ()Image.onerror = () => gunImage.src = => gunImage.src = 'https://via.placeholder.com/ 'https://via100x60.placeholder.com/100x60?text=Gun?text=Gun';
        const';
        const scopeImage = new scopeImage = new Image();
        scopeImage Image();
        scopeImage.src = 'https://i.src = 'https://i.postimg.cc/yD.postimg.cc/yDVMYmX9/scope.pngVMYmX9';
/        scopescope.png';Image.onerror = ()
        scope => scopeImage.onerror = () => scopeImage.src = 'https://Image.src = 'https://via.placeholder.com/100via.placeholder.com/100?text=Scope?text=Scope';
        const';
        const targetImage = new Image();
        targetImage.src = targetImage = new Image();
        targetImage.src = 'https://i.postimg 'https://i.postimg.cc/zyBhr.cc/zyBhrQMgQMg/target.png/target.png';
        target';
        targetImage.onerror = ()Image.onerror = () => targetImage => targetImage.src = 'https://via.src = 'https://via.placeholder.com/50.placeholder.com/50?text=?Targettext=Target';

        const';

        const resizeCanvas = () => resizeCanvas = () => {
            const parent {
            const parent = shooting = shootingGameCanvas.parentElement;
            shootingGameCanvas.width = parentGameCanvas.parentElement;
            shootingGameCanvas.width = parent.clientWidth >.clientWidth > 700 700 ? 700 : parent.client ? 700 : parent.clientWidth;
            shootingWidth;
            shootingGameCanvas.height = windowGameCanvas.height = window.innerWidth <=.innerWidth <= 767 ? 280 767 ? 280 : 450;
        : 450;
        };
        window };
        window.addEventListener('resize',.addEventListener('resize', resizeCanvas);
        resize resizeCanvas);
        resizeCanvas();

        const createCanvas();

        const createTarget = () => {
           Target = () => {
            const size = Math.random() const size = Math.random() * 20 + 25 * 20 + 25;
            const x;
            const x = Math.random() * ( = Math.random() * (shootingGameCanvas.width -shootingGameCanvas.width - size);
            const y = size);
            const y = Math.random() * (sh Math.random() * (shootingGameCanvas.height - sizeootingGameCanvas.height - size - 60);
            const - 60);
            const speed = 1 + level speed = 1 + level * 0.4 * 0.4;
            targets;
            targets.push({ x, y, size, vx.push({ x, y, size, vx: (Math.random() -: (Math.random() - 0.5) * speed, vy 0.5) * speed, vy: (Math.random() -: (Math.random() - 0.5) * 0.5) * speed, spawnTime: Date speed, spawnTime: Date.now() });
        };

       .now() });
        };

        const hitTarget = (x const hitTarget = (x, y) => {
           , y) => {
            let hit = false;
            let hit = false;
            targets = targets.filter(t => targets = targets.filter(t => {
                const dx = {
                const dx = x - (t.x + x - (t.x + t.size / 2);
 t.size / 2);
                const dy = y - (t.y +                const dy = y - (t.y + t.size / t.size / 2);
                const 2);
                const distance = Math.sqrt(dx * distance = Math.sqrt(dx * dx + dy * dy dx);
 +                dy if * (distance dy);
                if (distance < t.size / 2) {
                    hit < t.size / = true;
                    const time 2) {
                    hit = true;
                    const timeTaken = (DateTaken = (Date.now() - t.spawn.now() - t.spawnTime) /Time) / 1000;
                    const 1000;
                    const points = isScopeActive ? Math.max points = isScopeActive ? Math.max(20, 100(20, 100 - Math.floor(time - MathTaken * 10.floor(timeTaken * 10)) : Math.max(10)) : Math.max(10, 50, 50 - Math.floor(time - Math.floor(timeTaken * 5Taken * 5));
                    score));
                    score += points;
                    show += points;
                    showToast(`HitToast(`Hit! +! +${points} points`,${points 100} points`, 1000);
                    const hitEffect = document.createElement('div');
                   0);
                    const hitEffect = document.createElement('div');
                    hitEffect.classList.add(' hitEffect.classList.add('hit-effect');
                    hitEffecthit-effect');
                    hitEffect.style.left = `${x -.style.left = `${x - 7 7.5}px`;
                    hitEffect.style.top = `${.5}px`;
                    hitEffect.style.top = `${y -y - 7.5}px`;
 7.5}px`;
                    shootingGameCanvas.parentElement                    shootingGameCanvas.parentElement.appendChild(hitEffect);
                    set.appendChild(hitEffect);
                    setTimeout(() => hitEffect.removeTimeout(() => hitEffect.remove(), 500(), 500);
                    return);
                    return false;
                }
                return true false;
                }
;
            });
                return true;
            });
            if (!hit &&            if (! lives >hit && lives > 0) {
                lives 0) {
                lives--;
                showToast(`--;
                showToast(`Miss! LivesMiss! Lives: ${lives}`,: ${lives}`, 100 1000);
                if0);
                if (lives === (lives === 0) end 0) endShootingGameShootingGame();
            }
            if (();
            }
            if (hit) playSound(shhit) playSound(shootSound);
            shootingGameScore.textContentootSound);
            shootingGameScore.textContent = `Level: ${level} | = `Level: ${level} | Score: ${score Score: ${score} | Lives:} ${lives}`;
            | Lives: ${lives}`;
            return hit;
 return hit;
        };

               };

        const updateTargets = const updateTargets = () => {
            const now () => {
            const now = Date = Date.now();
            targets = targets.now();
            targets = targets.filter(t => now.filter(t => now - t.spawnTime - t.spawnTime <= 400 <= 4000 - level0 - level * 100);
            if * 100);
            if (targets.length <  (targets.length < 2 + level && Math2 + level && Math.random() < 0..random() < 0.1) create1) createTarget();
            targetsTarget();
            targets.forEach(t => {
               .forEach(t => {
                t.x += t.vx t.x += t.vx;
                t.y +=;
                t.y += t.vy;
                if t.vy;
                if (t.x (t.x < 0 || t.x > < 0 || t.x > shootingGameCanvas.width - shootingGameCanvas.width - t.size) t.v t.size)x *= t -1;
.vx *= -1;
                if (t.y                if (t.y < 0 || t.y > < 0 || t.y > shootingGameCanvas.height - shootingGameCanvas.height - t.size - 60 t.size - 60) t) t.vy *= -.vy *= -1;
            });
1;
            });
            if (score >= level            if (score >= level * 100 && * 100 && level < maxLevels) {
 level < maxLevels) {
                level++;
                showToast                level++;
                showToast(`(`Level ${levelLevel ${level} Unlocked!`,} Unlocked!`, 200 2000);
            }
        };

0);
            }
        };

        const drawGame =        const drawGame = () => {
            ctx.clear () => {
            ctx.clearRect(0,Rect(0, 0, shootingGame 0, shootingGameCanvas.width, shootingCanvas.width, shootingGameCanvas.heightGameCanvas.height);
            const gradient);
            const gradient = ctx.createLinearGradient( = ctx.createLinearGradient(0, 0,0, 0, 0, shootingGameCanvas.height 0, shootingGameCanvas.height);
            gradient.addColor);
            gradient.addColorStop(0, '#1Stop(0, '#1a2338');
            gradienta2338');
            gradient.addColorStop(1.addColorStop(1, '#, '#334155');
334155');
            ctx.fillStyle = gradient            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0;
            ctx.fillRect(0, 0, shooting, shootingGameCanvas.width,GameCanvas.width, shootingGameCanvas.height shootingGameCanvas.height);
            targets);
            targets.forEach(t => ctx.draw.forEach(t => ctx.drawImage(targetImage(targetImage, t.x, tImage, t.x, t.y, t.size,.y, t.size, t.size));
            ctx t.size));
            ctx.drawImage(g.drawImage(gunImage, mouseunImage, mouseX ? mouseX ? mouseX - 50 : shootingX - 50 : shootingGameCanvas.width / 2 -GameCanvas.width / 2 - 50, shooting 50, shootingGameCanvas.height - 60GameCanvas.height - 60,, 100, 60 100, 60);
            if (isScope);
            if (isScopeActive && mouseActive && mouseX !== null && mouseYX !== null && mouseY !== null) {
                ctx !== null) {
                ctx.drawImage(scope.drawImage(scopeImage, mouseX -Image, mouseX - 50, mouseY - 50, mouseY - 50, 50, 100, 100, 100);
            }
        };

 100);
            }
        };

        const end        const endShootingGame = () =>ShootingGame = () => {
            isGameOver = {
            isGameOver = true;
            game true;
            gameOverMessage.classList.add('OverMessage.classList.add('show');
            shootingshow');
            shootingGameCanvas.style.filterGameCanvas.style.filter = 'blur( = 'blur(4px)';
            if4px)';
            if (score > bestScore) {
                best (score > bestScore) {
                bestScore = score;
                localScore = score;
                localStorage.setItem('shStorage.setItem('shootingGameBestootingGameBestScore', bestScore', bestScore);
            }
            showScore);
            }
            showToast(`Toast(`Game Over! ScoreGame Over! Score: ${score}`, 400: ${score}`, 4000);
            cancel0);
            cancelAnimationFrame(gameAnimationFrame(gameLoop);
        };

       Loop);
        };

        const init const initShootingGame = () =>ShootingGame = () => {
            resize {
            resizeCanvas();
            levelCanvas();
            level = 1;
            score = 1;
            score = 0;
            lives = = 3 0;
            lives = 3;
            targets = [];
           ;
            targets = [];
            isGame isGameOver = false;
            isOver = false;
            isScopeActive = false;
           ScopeActive = false;
            shootingGameCanvas shootingGameCanvas.style.cursor.style.cursor = 'cross = 'crosshair';
            shootinghair';
            shootingGameCanvas.style.filterGameCanvas.style.filter = ' = 'none';
            gameOvernone';
            gameOverMessage.classMessage.classList.remove('showList.remove('show');
            shootingGameScore.textContent = `Level: ${level} |');
            shootingGameScore.textContent = `Level: ${level} | Score: ${score Score: ${score} | Lives} | Lives: ${lives: ${lives}`;
            create}`;
            createTarget();
            gameTarget();
            gameLoop = requestAnimationFrameLoop = requestAnimationFrame(gameLoopFunction(gameLoopFunction);
        };

);
        };

        const gameLoopFunction =        const gameLoopFunction = () => {
            if () => {
            if (!isGameOver) (!isGameOver) {
                updateTargets();
                {
                updateTargets();
                drawGame();
                game drawGame();
                gameLoop = requestAnimationFrame(gameLoop = requestAnimationFrame(gameLoopFunction);
            }
       LoopFunction);
            }
        };

        shooting };

        shootingGameCanvas.addEventGameCanvas.addEventListener('mousemoveListener('mousemove', e', e => {
            if (is => {
            if (isGameGameOver) return;
            constOver) return;
            const rect = shooting rect = shootingGameCanvas.getBoundingClientRectGameCanvas.getBoundingClientRect();
            mouse();
            mouseX = (X = (e.clientX - rect.lefte.clientX - rect.left) * (sh) * (shootingGameCanvas.width / rectootingGameCanvas.width / rect.width);
            mouse.width);
            mouseY = (e.clientYY = (e.clientY - rect.top - rect.top) * (sh) * (shootingGameootingGameCanvas.height /Canvas.height / rect.height);
        });
 rect.height);
        });
        shootingGameCanvas.addEventListener('click        shootingGameCanvas.addEventListener('click', e => {
', e => {
            if (is            if (isGameOver) return;
           GameOver) return;
            const rect = shooting const rect = shootingGameCanvas.getBoundingClientRectGameCanvas.getBoundingClientRect();
            const x();
            const x = (e.client = (e.clientX - rect.leftX - rect.left) * (sh) * (shootingGameootingGameCanvas.width /Canvas.width / rect.width);
            const rect.width);
            const y = (e.clientY y = (e.clientY - rect.top - rect.top) * (sh) * (shootingGameCanvas.heightootingGameCanvas.height / rect / rect.height);
            hit.height);
            hitTarget(x, yTarget(x, y);
        });
        document);
        });
        document.getElementById('scopeToggleBtn').addEventListener.getElementById('scopeToggleBtn').addEventListener('click', () => {
('click', () => {
            if (isGameOver            if (isGameOver) return;
            is) return;
            isScopeActive = !isScopeScopeActive = !isScopeActive;
            shootingActive;
            shootingGameCanvasGameCanvas.style.cursor = is.style.cursor = isScopeActive ? 'noneScopeActive ? 'none' : 'cross' : 'crosshair';
            showhair';
            showToast(isToast(isScopeActive ? 'ScopeScopeActive ? 'Scope On' : 'Scope Off On' : 'Scope Off', 200', 2000);
        });
        document0);
        });
        document.getElementById('sh.getElementById('shootingGameOption').ootingGameOption').addEventListener('click',addEventListener('click', e => {
            e.prevent e => {
            e.preventDefault();
            closeDefault();
            closeModal(gModal(gamesModal);
amesModal);
            openModal            openModal(shooting(shootingGameModalGameModal);
            init);
            initShootingGame();
        });
ShootingGame();
        });
        document.getElementById        document.get('ElementByIdcloseSh('closeShootingGameBtn').addEventootingGameBtn').addEventListener('click', () =>Listener('click', () => {
            closeModal(sh {
            closeModal(shootingGameModalootingGameModal);
            cancel);
            cancelAnimationFrameAnimationFrame(gameLoop);
        });
(gameLoop);
        });
        document.getElement        document.getElementById('restartById('restartShootingGameShootingGameBtn').addEventListener('Btn').addEventListener('click', initclick', initShootingGame);

        //ShootingGame);

        // Form Handling
        document Form Handling
        document.getElementById('feedbackForm').add.getElementEventByListener('Id('feedbackForm').addEventListener('submit', e => {
submit', e => {
            e.preventDefault();
                       e.preventDefault();
            const form = e.target;
 const form = e.target;
            const submitBtn = document            const submitBtn = document.getElementById('submit.getElementById('submitBtn');
            const category =Btn');
            const category = form.category form.category.value;
            const message.value;
            const message = form.message.value = form.message.value.trim();
            const email.trim();
            const email = form.email.value.trim = form.email.value.trim();
            const email();
            const emailRegex = /^[\Regex = /^[\w-\.w-\.]+@([\]+@([\w-]+\.)+w-]+\.)[\w-]{2+[\w-]{2,}$/;
            if (!,}$/;
            if (!category || !message ||category || !message || !email) return showToast !email) return showToast('Please fill all('Please fill all fields!', 3000);
 fields!', 3000);
            if (!emailRegex.test            if (!emailRegex.test(email)) return show(email)) return showToast('Invalid email addressToast('Invalid email address!', 3000);
           !', 3000);
            submitBtn.disabled = true;
 submitBtn.disabled = true;
            submitBtn.textContent =            submitBtn.textContent = 'Submitting...';
            fetch 'Submitting...';
            fetch(form.action, {
(form.action, {
                method: 'POST',
                method: 'POST',
                body: new                body: new FormData(form),
 FormData(form),
                headers: { '                headers: { 'Accept': 'applicationAccept':/json' 'application }
            }).then/json' }
            }).then(res => {
                if ((res => {
                if (res.ok) {
                    showToast('Feedbackres.ok) {
                    showToast('Feedback sent! Thank you!', sent! Thank you!', 4000);
 4000);
                    form.reset();
                }                    form.reset();
                } else {
                    show else {
                    showToast('Error submitting feedback!',Toast('Error submitting feedback!', 4000);
                }
            }).catch 4000);
                }
            }).catch(() => showToast('Network(() => showToast('Network error!', 4000)). error!', 4000)).finally(() => {
               finally(() => {
                submitBtn.disabled = submitBtn.disabled = false;
                submitBtn false.textContent =; '
Send                Feedback submitBtn.textContent = 'Send Feedback';
            });
        });

';
            });
        });

        // Real        // Real-time Form Validation
        document-time Form Validation
        document.querySelectorAll('#feedbackForm input.querySelectorAll('#,feedbackForm input, #feedbackForm textarea, # #feedbackForm textarea, #feedbackfeedbackForm select').forEach(inputForm select').forEach(input => {
            input.addEvent => {
            input.addEventListener('input', () => {
                input.styleListener('input', () => {
                input.style.borderColor.borderColor = input.value.trim = input.value.trim() ? '#() ? '#3b82f6'3b82f6' : 'rgba : 'rgba(255, 255,(255, 255, 255, 0. 255, 0.2)';
            });
        });
   2)';
            });
 </script>
</body>
        });
    </script>
</body>
</html>
